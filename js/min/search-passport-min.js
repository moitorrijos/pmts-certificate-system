var pmtscs_ajax_object,moment;!function($){$(function(){function a(){n.fadeOut("fast"),$("form.acf-form input:text").first().focus()}function t(a){a.preventDefault(),n.fadeIn("fast"),u.focus()}function e(a){if(a.preventDefault(),h.show(),""===u.val())return u.css("border","1px solid #C10000").addClass("animated shake"),void h.hide();u.removeClass("animated shake"),$.ajax({url:pmtscs_ajax_object.ajaxurl,type:"POST",dataType:"json",data:{action:"search_by_id_passport",security:pmtscs_ajax_object.security,passport_no:u.val().toString()},success:function(a){if(a.success){h.hide(),r.val("Done"),f.fadeOut("slow");var t,e,o,s,n;a.data.student_info.forEach(function(a){"students_name"===a.meta_key?t=a.meta_value:"passport_id"===a.meta_key?e=a.meta_value:"place_of_birth"===a.meta_key?o=a.meta_value:"student_nationality"===a.meta_key?s=a.meta_value:"date_of_birth"===a.meta_key&&(n=a.meta_value)}),l.val(a.data.passport_no),d.val(t),_.val(o),m.val(s),p.val(n),p.next("input").val(moment(n).format("MMMM D, YYYY")),y.append(a.data.certificate_table),v.show()}else b.slideDown("fast"),h.hide(),r.val("Try Again")},error:function(){u.addClass("animated shake"),b.text("Sorry, an error ocured. Please try again."),b.slideDown("fast"),h.hide()}})}function o(){""!==l.val()&&$.ajax({url:pmtscs_ajax_object.ajaxurl,type:"POST",dataType:"json",data:{action:"search_by_id_passport",security:pmtscs_ajax_object.security,passport_no:l.val().toString()},success:function(a){return console.log(a),a?(y.append(a.data.certificate_table),void v.show()):void 0},error:function(a){console.log(a)}})}var s=$("form#search-by-id-no"),n=$(".search-student-form"),i=$(".close-button"),c=$(".search-id-no-button"),r=$("#search-by-id-submit"),f=$("#search-student-form"),u=$("input#search_by_id_passport"),d=$("input#acf-field_5618388c2ff51"),l=$("input#acf-field_5612fe8fe2a39"),_=$("input#acf-field_5612fef2fdc33"),p=$("input#acf-field_5619ac69b2aab"),m=$("input#acf-field_5728ffb5d7616"),v=$(".other-certificates"),y=$("table.other-certificates-table"),b=$(".error-message"),h=$("span.search-spinner");s.on("click",function(a){a.stopPropagation()}),i.on("click",a),$(document).on("keyup",function(t){27===t.keyCode&&a()}),f.on("click",a),c.on("click",t),s.on("submit",e),setTimeout(function(){o()},200)})}(jQuery);